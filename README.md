# Sunshine 企业级开发平台(PHP backend)

## 技术栈

1. Symfony 5
2. 三方 Bundle

* gedmo/doctrine-extensions (目前使用其中的tree)
    <https://github.com/Atlantic18/DoctrineExtensions>
* hautelook/alice-bundle (版本使用了 1.4，而不是 2.0 beta。用于填充初始和示例数据。)
    <https://github.com/hautelook/AliceBundle/tree/1.x>

### 源码目录结构

1.Organization 组织、公司、部门、用户等组织机构相关信息功能的包。

* 组织的概念类似企业集团，能以组织为最大单位划分功能区域，彻底阻隔资源的互相访问。
* 公司(Company)，这是组织一级下边的独立运营性质的公司实体。
* 部门以商业单元来区分(BusinessUnit)，它是一个树状的组织形式，可以系统、子系统、事业部、部门、子部门等概念。
* 用户(User)，这是整个OA系统的最小组织单位，也是最终的实际的用户实体。
* 岗位(Title)，这是用户的岗位、职务名称。
* 职务级别(ServiceGrade)，这是用户的职务级别，比如总裁、副总裁、总监、部门经理、主管、员工
* 工作组(WorkGroup)，将用户以分组形式构成工作组，以用于审批、开放特定权限等工作。
* 组织角色(OrganizationRole) 组织角色指定特定用户为某个组织的某些角色，如组织管理员、表单管理员、人力资源管理员、薪资专员

2.ApplicationForm 申请表的格式导入、字段配置、流转流程制定等相关功能的包。

* 用户通过后台表单构建器自行制作表单布局，并在表内填充表单控件。
* 表单管理员在后台导入此文件，程序解析出表格样式和表单控件，通过界面由表单管理员逐一配置每个控件的字段类型，如日期配置为 datetime，数量配置为 int, 文本配置为 string 或 text 。
* 再由表单管理员创建表单流程，表单流程由节点、流转条件组成。表单将按照预期的设置进行流转，直到结束节点。
* 查询、统计。根据配置可对已有表单数据进行查询和统计。

### 任务列表

* [ ] 组织管理。让管理员通过后台添加组织、维护组织信息。
* [ ] 公司管理。让管理员通过后台添加组织、维护公司信息。
* [ ] 商业单元管理。让管理员通过后台添加商业单元、维护相关信息。
* [ ] 岗位管理。让管理员通过后台添加维护岗位信息。
* [ ] 职务级别管理。让管理员通过后台添加维护职务级别信息。
* [ ] 用户管理。实现用户登录、密码重置。让管理员通过后台维护用户，实现用户添加、更新信息、停用。实现命令工具添加用户。
* [ ] 工作组管理。让管理员通过后台添加维护工作组信息。
* [ ] 组织角色。让管理员通过后台添加维护组织角色信息。

* [ ] 表单视图构建器。创建 ApplicationForm，在后台完成一个表单后台构建器。

### 菜单明细

1. 组织架构管理
    * 组织管理
    * 单位管理
    * 部门管理
    * 岗位管理
    * 职务级别管理
    * 人员管理
    * 工作组管理
    * 单位角色设置
    * 工作范围控制
    * 单位标识配置
